Add deleting file after reading him.
Add logger clarification


public void createTasks(final MultipartFile file) throws IOException {
        final int NUMBER_THREADS = 5;
        ExecutorService pool = Executors.newFixedThreadPool(NUMBER_THREADS);
        List<Callable<Object>> tasks = new ArrayList<>();
        ArrayList<Weights> batch = new ArrayList<>();
        XSSFWorkbook wb = new XSSFWorkbook(file.getInputStream());
        XSSFSheet sheet = wb.getSheetAt(0);

        Iterator<Row> iterator = sheet.iterator();
        tasks.add(() -> new TransactionTemplate(transactionManager).execute((TransactionStatus status) -> {
            {
                    while (iterator.hasNext()) {
                        Row currentRow = iterator.next();
                        logger.debug("random trash");
                        batch.add(new Weights(currentRow.getCell(0).getStringCellValue(),
                                new BigDecimal(currentRow.getCell(1).getNumericCellValue())));
                        if(batch.size() == 50) {
                            saveBatch(batch);
                            batch.clear();
                        }
                        return null;
                    }
                return null;
            }
        }));

        try {
            pool.invokeAll(tasks);
        } catch (InterruptedException ex) {
            ex.printStackTrace();
        } finally {
            pool.shutdown();
        }
    }